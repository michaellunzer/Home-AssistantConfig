## VM Config

homeassistant:
  # Name of the location where Home Assistant is running
  name: Home
  # Location required to calculate the time the sun rises and sets
  latitude: !secret homeassistant_latitude
  longitude: !secret homeassistant_longitude
  # Impacts weather/sunrise data (altitude above sea level in meters)
  elevation: !secret homeassistant_elevation
  # metric for Metric, imperial for Imperial
  unit_system: !secret unit_system
  # Pick yours from here: http://en.wikipedia.org/wiki/List_of_tz_database_time_zones
  time_zone: !secret time_zone
  # Customization file
  customize: !include customize.yaml
  packages: !include_dir_named packages
#   scene: !include scenes.yaml
#   scene old: !include_dir_merge_list scenes
#   auth_providers:
#   - type: trusted_networks
#     trusted_networks:
#       - 192.168.1.0/24   #anyone on the home network
#       - 172.30.32.0/24
#       - 127.0.0.0/24
#   whitelist_external_dirs:
#   # - /backup
#   - /config
#   # - /addons
#   # - /share
#   # - /dev
#   - /mnt/backups
# Not sure if I need this
  external_url: "https://home.michaellunzer.com"
  internal_url: "http://192.168.1.2:8123"


# shell_command: !include_dir_named shell_command

# zone: !include zones.yaml
#I hope this is the right spot for the zone config.

#testing to see if git works again!

#testing to see if git deploy key works!
#  Command to automatically push to github

#    0,30 * * * * /bin/bash -c "cd cd /root/config && git add . && git commit -am 'Daily commit `date`' && git push"


# switch: !include switches.yaml
# device_tracker: !include device_tracker.yaml

system_health:

dhcp:

person: 

## AWS
# recorder:
#   db_url: mysql://admin:HiXF77p4aEC!0@hassiodb.cvnhhyf7wvga.us-west-2.rds.amazonaws.com/homeassistant
#   purge_keep_days: 300    #default = 10
#   purge_interval: 100      #default = 1
#   exclude:
#     entities:
#      - light.michael_hue
#      - sun.sun # Don't record sun data
#      - sensor.date
#     #   - sensor.last_boot # Comes from 'systemmonitor' sensor platform

## OCI CLASSIC
# recorder:
#   db_url: mysql://root:CLn4P8CjtT!1@150.136.226.239/mydatabase?charset=utf8
#   purge_keep_days: 300    #default = 10
#   purge_interval: 100      #default = 1
#   exclude:
#     entities:
#      - light.michael_hue
#      - sun.sun # Don't record sun data
#      - sensor.date
#     #   - sensor.last_boot # Comes from 'systemmonitor' sensor platform

# OCI Docker MySQL DB
# recorder:
#   db_url: mysql://root:CLn4P8CjtT!1@db.lunz.xyz/homeassistant?charset=utf8
#   purge_keep_days: 300    #default = 10
#   purge_interval: 100      #default = 1
#   exclude:
#     entities:
#      - light.michael_hue
#      - sun.sun # Don't record sun data
#      - sensor.date
#     #   - sensor.last_boot # Comes from 'systemmonitor' sensor platform

recorder:
  db_url: mysql://admin:asdf@core-mariadb/homeassistant
  purge_keep_days: 1     #default = 10
  #purge_interval: 1      #default = 1  ### depreciated in 0.109
  exclude:
    entities:
     - light.michael_hue
     - sun.sun # Don't record sun data
     - sensor.date
     - light.powermonitor_plug01_blue_led
     - light.powermonitor_plug01_red_led
    #   - sensor.last_boot # Comes from 'systemmonitor' sensor platform
     - sensor.next_launch_countdown #SpaceX sensor
     - sensor.48_quintara_24th_mission
     - sensor.49_van_ness_mission
     - sensor.12_folsom_pacific

# recorder:
#   db_url: oracle+cx_oracle://admin:CLn4P8CjtT!1@adb.us-ashburn-1.oraclecloud.com:1522/ag7yhvhltqz2qif_db201909161722_high.atp.oraclecloud.com/?service_name=DB201909161722
#   purge_keep_days: 30    #default = 10
#   purge_interval: 1      #default = 1
#   exclude:
#     entities:
#      - light.michael_hue
#      - sun.sun # Don't record sun data
#      - sensor.date
#     #   - sensor.last_boot # Comes from 'systemmonitor' sensor platform

###  oracle+zxjdbc://admin:CLn4P8CjtT!1@adb.us-ashburn-1.oraclecloud.com:1522/ag7yhvhltqz2qif_db201909161722_high.atp.oraclecloud.com/DB201909161722


influxdb:
  host: a0d7b954-influxdb
  port: 8086
  database: homeassistant
  username: !secret influxdb_username
  password: !secret influxdb_password
  max_retries: 3
  default_measurement: state

# Enables the frontend
frontend:
  themes: !include_dir_merge_named themes/

# Enables configuration UI
config:

zeroconf:

default_config:

ssdp:

mobile_app:


# # Enables iOS
ios:
#   push:        ### depreciated in 2022.4.5
#     categories:
#       - name: Medicine
#         identifier: 'medicine'
#         actions:
#           - identifier: 'ALREADY_TAKEN'
#             title: 'Already Taken'
#             activationMode: 'background'
#             authenticationRequired: no
#             destructive: yes
#             behavior: 'default'
#           - identifier: 'SNOOZE'
#             title: 'Snooze 5 Minutes'
#             activationMode: 'background'
#             authenticationRequired: no
#             destructive: yes
#             behavior: 'default'
#           - identifier: 'REMIND_HOME'
#             title: 'Remind Me at Home'
#             activationMode: 'background'
#             authenticationRequired: no
#             destructive: yes
#             behavior: 'default'
#       - name: Alarm
#         identifier: 'alarm'
#         actions:
#           - identifier: 'SILENCE_ALARM'
#             title: 'Silence Alarm'
#             activationMode: 'background'
#             authenticationRequired: no
#             destructive: yes
#             behavior: 'default'
#       - name: Siren
#         identifier: 'siren'
#         actions:
#           - identifier: 'ACTIVATE_SIRENS'
#             title: 'Activate Sirens'
#             activationMode: 'background'
#             authenticationRequired: no
#             destructive: yes
#             behavior: 'default'
#       - name: Snooze
#         identifier: 'Snooze'
#         actions:
#           - identifier: 'SNOOZE'
#             title: 'Snooze'
#             activationMode: 'background'
#             authenticationRequired: no
#             destructive: yes
#             behavior: 'default'
#       - name: Test
#         identifier: 'test'
#         actions:
#           - identifier: 'TEST'
#             title: 'Testbutton 1'
#             activationMode: 'background'
#             authenticationRequired: no
#             destructive: yes
#             behavior: 'default'
            
            
            

# python_script:
# https://github.com/maattdiy/home-assistant-config/blob/master/python_scripts/summary.py


http:
# use this below for a reverse proxy
  use_x_forwarded_for: true
  trusted_proxies:
    - 127.0.0.0/24
    - 192.168.1.2
    - 172.16.0.0/12
    - ::1
    - 172.30.33.0/24
#   trusted_networks:
#     - 192.168.1.0/24
#     - 172.30.32.0/24
#     - 172.30.33.0/24
  cors_allowed_origins: 
    - '*'
    - http://localhost:8000
    - http://192.168.1.144:8000
    - 192.168.1.144
    - http://192.168.1.144


      
  # Secrets are defined in the file secrets.yaml
#   api_password: !secret http_api_password                           #### API Password was depreciated in ~0.72
  # Uncomment this if you are using SSL/TLS, running in Docker container, etc.
#   base_url: !secret http_base_url
#   ssl_certificate: /ssl/fullchain.pem
#   ssl_key: /ssl/privkey.pem
#


# Checks for available updates
# The updater component will check daily for new releases. It will show a badge in the frontend if a new version is found. 
# As Hass.io has its own schedule for release it doesnâ€™t make sense to use this component on Hass.io.
# Note: This component will send some information about your system to
# the developers to assist with development of Home Assistant.
# For more information, please see:
# https://home-assistant.io/blog/2016/10/25/explaining-the-updater/
# updater:
  # Optional, allows Home Assistant developers to focus on popular components.
  # include_used_components: true

# Discover some devices automatically
discovery:

# Allows you to issue voice commands from the frontend in enabled browsers
conversation:

# Enables support for tracking state changes over time
history:

# View all events in a logbook
logbook:

# required for HACS (Home Assistant Community Store)
logger:
  default: critical
  logs:
    homeassistant.components: info
    homeassistant.components.esphome: debug
    homeassistant.components.device_tracker: critical
    homeassistant.components.camera: critical
    # custom_components.my_integration: debug       # example filter
    custom_components.instagram: debug # custom compoent - Instagram

# Enables a map showing the location of tracked devices
map:

# Track the sun
sun:

## World Wide Lightning Location Network (WWLLN)
### depreciated in 0.111
# wwlln:

hassio:

# Text to speech
# tts:
#   - platform: google

# Cloud
# cloud:

# folder_watcher:
#   - folder: /config
#   - folder: /backup
#   - folder: /addons
#   - folder: /share
#   - folder: /mnt/backups


rest_command:
# started using the other google drive backup plugin because of historical (weekly/monthly/yearly) backups
  google_backup:
    url: 'http://localhost:8055/gb/doBackup'
    timeout: '300'
  twilio_alarm:
    url: !secret twilio_studio_flow_url
    method: POST
    headers:
    #   authorization: "Basic QUM3MTUwZGEwMTU2OTkxOGU5NzhiZGI2MGNhNmE5MGY1YzoxYTBmZTk2ZWRiZDdmMjBhM2Y1OWU0YjJhNTE5NzFiNg=="
    # old one #   authorization: "Basic QUM3MTUwZGEwMTU2OTkxOGU5NzhiZGI2MGNhNmE5MGY1YzpiNmFmYzVlOGFmNGFmNWNjM2Q2NTVkNWZlZjVjZjE1Yg=="
      Content-Type: "application/x-www-form-urlencoded"
    username: !secret twilio_account_sid
    password: !secret twilio_api_key # old one that needs to be replaced: b6afc5e8af4af5cc3d655d5fef5cf15b
    payload: "To=+14157077908&From=+14153586870"
    # to: '+15558675310', from: '+15017122661'.   14158740125
## SF Landline: +14157951905
## +16508610474
## twilio sip: +14157077908


# # rest_command:
#   my_request:
#     url: https://slack.com/api/users.profile.set
#     method: POST
#     headers:
#       authorization: !secret rest_headers_secret
#       accept: "application/json, text/html"
#       user-agent: 'Mozilla/5.0 {{ useragent }}'
#     payload: '{"profile":{"status_text": "{{ status }}","status_emoji": "{{ emoji }}"}}'
#     content_type:  'application/json; charset=utf-8'
#     verify_ssl: true


############################################
###### Twilio ##############################
############################################

twilio:
  account_sid: !secret ACCOUNT_SID_FROM_TWILIO
  auth_token: !secret AUTH_TOKEN_FROM_TWILIO






############################################
################# Notifications ############
############################################

# PushBullet Notifications
notify:
  - name: PushBullet
    platform: pushbullet
    api_key: !secret pushbullet_api_key
# Twilio Call
  - name: twilio_call_alarm
    platform: twilio_call
    from_number: +14153586870


group: !include_dir_named groups
automation: !include automations.yaml
script: !include scripts.yaml
sensor: !include sensors.yaml
scene: !include scenes.yaml
# scene old: !include_dir_merge_list scenes




####################################
######### Binary Sensors ###########
####################################


binary_sensor:
  - platform: workday
    country: US
    # state: 'CA'
    # workdays: [mon, tues, wed, thurs, fri]
#This works, but theres not really a point -- if the system is down then the dashboard is unavailable lol
#   - platform: uptimerobot
#     api_key: !secret uptimerobot_api_key
## Room-Assistant MQTT BTLE Sensor
#   - platform: mqtt
#     state_topic: 'room_presence/Michael-room'
#     name: 'Michael Room BTLE Template Sensor'
#     payload_on: 0
#     payload_off: 1
#     device_class: 'motion'
#     value_template: '{{ value_json.value }}'
## This is for the motion Sensor    ################ Depreciated due to ESPHome, leaving as an example for future MQTT Sensors
#   - platform: mqtt
#     state_topic: 'bruh/sensornode1'
#     name: 'Michael Room actual Motion Sensor'
#     payload_on: 'motion detected'
#     payload_off: 'standby'
#     device_class: 'motion'
#     value_template: '{{ states.sensor.sn1_pir.state }}'
#   - platform: mqtt  
#     state_topic: "bruh/sensornode1"  
#     name: "Michael Room Actual Motion Sensor"  
#     value_template: '{{ value_json.motion }}'
#     device_class: 'motion'
## apcupsd binary sensor -- returns ON/OFF
#   - platform: apcupsd ######## UPS is not being used currently
#   - platform: ffmpeg_motion ############ this is for the direct RTSP stream direclty to the camera
#     input: -rtsp_transport http -i rtsp://lunz:asdf@192.168.1.203/live
#     name: wyzecam_office_motion
#     extra_arguments: -pred 1 -q:v 2
#     changes: 10
#     reset: 10
#   - platform: ffmpeg_motion ############ this is for the direct RTSP stream direclty to the camera
#     input: -rtsp_transport http -i rtsp://lunz:asdf@192.168.1.204/live
#     name: wyzecam_front_door_motion
#     extra_arguments: -pred 1 -q:v 2
#     changes: 5
#     reset: 10
  - platform: ffmpeg_motion
    name: wyzecam_office_cam_motion
    input: rtsp://homeassistant:8554/office-cam
    # extra_arguments: -pred 1 -q:v 2
    changes: 10
    reset: 10
  - platform: ffmpeg_motion
    name: wyzecam_living_room_cam_motion
    input: rtsp://homeassistant:8554/living-room-cam
    # extra_arguments: -pred 1 -q:v 2
    changes: 10
    reset: 10
  - platform: ffmpeg_motion
    name: wyzecam_hallway_cam_motion
    input: rtsp://homeassistant:8554/hallway-cam
    # extra_arguments: -pred 1 -q:v 2
    changes: 10
    reset: 10
    
    
#
# Home Assistant YAML
# Bayesian Binary Sensor
# https://home-assistant.io/components/binary_sensor.bayesian/
#
# Observes many device tracker entities to determine if home or not
#
# http://www.diyfuturism.com/index.php/2017/11/26/presence-detection-with-home-assistant-bayesian-probability/
#
  - platform: bayesian
    prior: 0.75
    name: 'Michael Presence'
    probability_threshold: 0.95
    observations:
    # - entity_id: 'device_tracker.lunziphone11_wifi'
    #   prob_given_true: 0.9
    #   prob_given_false: 0.6
    #   platform: 'state'
    #   to_state: 'home'
    # - entity_id: 'sensor.monitor_lunziphone_bt'
    #   prob_given_true: 0.9
    #   prob_given_false: 0.2
    #   platform: 'state'
    #   to_state: 'home'
    # - entity_id: 'device_tracker.lunziphone11_iphonedetect'
    #   prob_given_true: 0.9
    #   prob_given_false: 0.1
    #   platform: 'state'
    #   to_state: 'home'
    - entity_id: 'device_tracker.lunziphone13_mobile' #### old device_tracker.0a8fb53497b2433297bd346d3aaffb24
      prob_given_true: 0.92
      prob_given_false: 0.1
      platform: 'state'
      to_state: 'home'
    # - entity_id: 'sensor.tile_keys_ra_bt'
    #   prob_given_true: 1
    # #   prob_given_false: 0.1
    #   platform: 'state'
    #   to_state: 'home'
    # - entity_id: 'sensor.pebble_2_watch_ra_bt'
    #   prob_given_true: 0.9
    #   prob_given_false: 0.2
    #   platform: 'state'
    #   to_state: 'home'
    # - entity_id: 'sensor.pebble_time_round_watch_ra_bt'
    #   prob_given_true: 0.6
    #   prob_given_false: 0.4
    #   platform: 'state'
    #   to_state: 'home'
    # - entity_id: 'device_tracker.brad_nodered'
    #   prob_given_true: 0.8
    #   prob_given_false: 0.2
    #   platform: 'state'
    #   to_state: 'home'
    - entity_id: 'device_tracker.tile_keys'
      prob_given_true: 0.88
      prob_given_false: 0.35
      platform: 'state'
      to_state: 'home'


# ### imported into the GUI now in 2022.4.5

# #D-Link Camera
camera:
# ### imported into the GUI now in 2022.4.5
# #   - platform: mjpeg #mjpeg doesn't work anymore
# #     name: Laundry Camera
# #     still_image_url: !secret camera_front_door_still_image_url
# #     mjpeg_url: !secret camera_front_door_mjpeg_url
# #     # username: admin
# #     # password: hoytst
# #     # authentication: basic
# #     verify_ssl: false
# #   - platform: generic
# #     name: Office Camera
# #     still_image_url: local/wyze-logo.jpg
# #     stream_source: rtsp://lunz:asdf@192.168.1.203/live
# # Shows device_tracker.tile_kia on a map.
# #   - platform: generic
# #     name: Kia Tile Map
# #     still_image_url: https://maps.googleapis.com/maps/api/staticmap?center={{ states.device_tracker.tile_kia.attributes.latitude }},{{ states.device_tracker.tile_kia.attributes.longitude }}&zoom=17&size=500x500&maptype=roadmap&markers=color:blue%7Clabel:P%7C{{ states.device_tracker.tile_kia.attributes.latitude }},{{ states.device_tracker.tile_kia.attributes.longitude }}
# #     limit_refetch_to_url_change: true
# # # International Space Station Map
#   - platform: generic
#     name: ISS
#     still_image_url: https://tyler-demo.herokuapp.com/?greyscale=False&lat={{ states.binary_sensor.iss.attributes.lat }}&lon={{ states.binary_sensor.iss.attributes.long }}&zoom=11&width=640&height=480&tile_url=http://%5Babcd%5D.tile.stamen.com/watercolor/%7Bzoom%7D/%7Bx%7D/%7By%7D.jpg 
#     ### old URL --> http://staticmap.openstreetmap.de/staticmap.php?center={{ states.binary_sensor.iss.attributes.lat }},{{ states.binary_sensor.iss.attributes.long }}&zoom=4&size=865x512&maptype=mapnik&markers={{ states.binary_sensor.iss.attributes.lat }},{{ states.binary_sensor.iss.attributes.long }},lightblue
#     limit_refetch_to_url_change: true
#   - platform: generic
#     name: LunziPhone13_painting
#     still_image_url: https://tyler-demo.herokuapp.com/?greyscale=False&lat={{ states.device_tracker.lunziphone13_mobile.attributes.latitude }}&lon={{ states.device_tracker.lunziphone13_mobile.attributes.longitude }}&zoom=11&width=640&height=480&tile_url=http://%5Babcd%5D.tile.stamen.com/watercolor/%7Bzoom%7D/%7Bx%7D/%7By%7D.jpg 
#     ### old URL --> http://staticmap.openstreetmap.de/staticmap.php?center={{ states.binary_sensor.iss.attributes.lat }},{{ states.binary_sensor.iss.attributes.long }}&zoom=4&size=865x512&maptype=mapnik&markers={{ states.binary_sensor.iss.attributes.lat }},{{ states.binary_sensor.iss.attributes.long }},lightblue
#     limit_refetch_to_url_change: true
# #   - platform: generic
# #     name: Heavenly
# #     still_image_url: https://maps.googleapis.com/maps/api/staticmap?center={{ states.binary_sensor.iss.attributes.lat }},{{ states.binary_sensor.iss.attributes.long }}&zoom=5&size=500x500&maptype=roadmap&markers=color:blue%7Clabel:P%7C{{ states.binary_sensor.iss.attributes.lat }},{{ states.binary_sensor.iss.attributes.long }}
# #     limit_refetch_to_url_change: true
# #   - platform: generic
# #     name: Kirkwood
# #     still_image_url: https://maps.googleapis.com/maps/api/staticmap?center={{ states.binary_sensor.iss.attributes.lat }},{{ states.binary_sensor.iss.attributes.long }}&zoom=5&size=500x500&maptype=roadmap&markers=color:blue%7Clabel:P%7C{{ states.binary_sensor.iss.attributes.lat }},{{ states.binary_sensor.iss.attributes.long }}
# #     limit_refetch_to_url_change: true
# #   - platform: generic
# #     name: Northstar
# #     still_image_url: https://maps.googleapis.com/maps/api/staticmap?center={{ states.binary_sensor.iss.attributes.lat }},{{ states.binary_sensor.iss.attributes.long }}&zoom=5&size=500x500&maptype=roadmap&markers=color:blue%7Clabel:P%7C{{ states.binary_sensor.iss.attributes.lat }},{{ states.binary_sensor.iss.attributes.long }}
# #     limit_refetch_to_url_change: true
#   - platform: generic
#     still_image_url: 'https://radblast.wunderground.com/cgi-bin/radar/WUNIDS_map?station=MUX&brand=wui&num=6&delay=15&type=NTP&frame=0&scale=1.000&noclutter=0&showstorms=0&mapx=400&mapy=240&centerx=400&centery=240&transx=0&transy=0&showlabels=1&severe=0&rainsnow=1&lightning=0&smooth=0&rand=25766028&lat=0&lon=0&label=you'
#     name: Doppler - Bay Area
#     # limit_refetch_to_url_change: true
#   - platform: generic
#     still_image_url: 'https://radblast.wunderground.com/cgi-bin/radar/WUNIDS_map?station=RGX&brand=wui&num=6&delay=15&type=N0R&frame=0&scale=1.000&noclutter=0&showstorms=0&mapx=400&mapy=240&centerx=400&centery=240&transx=0&transy=0&showlabels=1&severe=0&rainsnow=1&lightning=0&smooth=0&rand=25766055&lat=0&lon=0&label=you'
#     name: Doppler - Tahoe
#     # limit_refetch_to_url_change: true
#   - platform: generic
#     still_image_url: https://home.michaellunzer.com/lovelace/2
#     name: camera - lovelace
#   - platform: push
#     name: MotionEye Laundry
#     buffer: 3
#     timeout: 5
#     webhook_id: WH_motion_laundry01
#   - platform: ffmpeg
#     name: wyzecam_office
#     input: -rtsp_transport http -i rtsp://lunz:asdf@192.168.1.203/live
#     extra_arguments: -pred 1 -q:v 2
#     ## front door camera
#   - platform: ffmpeg
#     name: wyzecam_front_door
#     input: -rtsp_transport http -i rtsp://lunz:asdf@192.168.1.204/live
#     extra_arguments: -pred 1 -q:v 2
  - platform: ffmpeg
    name: wyzecam_office_cam
    input: rtsp://homeassistant:8554/office-cam
    # extra_arguments: -pred 1 -q:v 2
  - platform: ffmpeg
    name: wyzecam_living_room_cam
    input: rtsp://homeassistant:8554/living-room-cam
    # extra_arguments: -pred 1 -q:v 2
  - platform: ffmpeg
    name: wyzecam_hallway_cam
    input: rtsp://homeassistant:8554/hallway-cam
    # extra_arguments: -pred 1 -q:v 2


#rtsp://homeassistant:8554/hallway-cam


### Depreciated MQTT config ###

# mqtt:
#   broker: !secret MQTT_broker
#   username: !secret MQTT_username
#   password: !secret MQTT_password
#   discovery: true
#   discovery_prefix: homeassistant

# cover:
#   - platform: mqtt
#     name: "MQTT Cover"
#     command_topic: "/house/masterbedroom/rollerblind/set"
#     state_topic: "/house/masterbedroom/rollerblind/status"
#     availability_topic: "/house/masterbedroom/rollerblind/availability"
#     qos: 0
#     retain: true
#     payload_open: "OPEN"
#     payload_close: "CLOSE"
#     payload_stop: "STOP"
#     state_open: "open"
#     state_closed: "closed"
#     payload_available: "online"
#     payload_not_available: "offline"
#     optimistic: false
#     value_template: '{{ value.x }}'

panel_custom:
  - name: server_control
    sidebar_title: Server Control
    sidebar_icon: mdi:cog-transfer
    js_url: /api/hassio/app/entrypoint.js
    url_path: "config/system"
    embed_iframe: true
    require_admin: true
    config:
      ingress: core_configurator

panel_iframe:
  configurator:
    title: Configurator
    icon: mdi:wrench
    url: !secret configurator_url
  tasmoadmin:
    title: TasmoAdmin
    icon: mdi:lightbulb-on
    url: !secret tasmoadmin_url
  router:
    title: Unifi Router
    icon: mdi:router-wireless
    url: !secret router_url
  foldingathome:
    title: Folding@home
    icon: mdi:bacteria-outline
    url: !secret folding_url
#   magicmirror:
#     title: MagicMirrorÂ²
#     icon: mdi:auto-fix
#     url: !secret magicmirror_url


#Don't use these anymore - was getting crowded

#   nextcloud:
#     title: NextCloud
#     icon: mdi:cloud-sync
#     url: !secret nextcloud_url
#   plex:
#     title: Plex
#     icon: mdi:plex
#     url: !secret plex_url
#   lunzpi:
#     title: LunzPi
#     icon: mdi:music-box
#     url: !secret lunzpi_url
#   backup:
#     title: 'Google Drive Snapshots'
#     icon: mdi:cloud-upload
#     url: !secret google_drive_backup_url
  jupyterlab:
    title: JupyterLab
    icon: mdi:notebook
    url: !secret jupyter_url
    
# not needed anymore, they have toggle switches on the containers now
#   vs:
#     title: Visual Studio Code
#     icon: mdi:code-braces
#     url: !secret vs_url
#   sql:
#     title: SQL Explorer
#     icon: mdi:set-left-center
#     url: !secret sql_url
#   glances:
#     title: Glances
#     icon: mdi:card-bulleted-settings
#     url: !secret glances_url
#   grafana:
#     title: Grafana
#     icon: mdi:chart-timeline
#     url: !secret grafana_url
#   influxdb:
#     title: InfluxDB
#     icon: mdi:chart-areaspline
#     url: !secret influxdb_url
#   terminal:
#     title: Terminal
#     icon: mdi:console
#     url: !secret terminal_url
#   nodered:
#     title: Node-Red
#     icon: mdi:shuffle-variant
#     url: !secret nodered_url
#   homepanel:
#     title: Home Panel
#     icon: mdi:tablet
#     url: !secret homepanel_url
#   esphome:
#     title: ESPHome
#     icon: mdi:chip
#     url: !secret esphome_url
#   logs:
#     title: Logs
#     icon: mdi:clipboard-text-outline
#     url: !secret logs_url
#   mqtt:
#     title: MQTT Explorer
#     icon: mdi:map-marker-circle
#     url: !secret mqtt_url
#   motion:
#     title: Motion
#     icon: mdi:cctv
#     url: !secret motion_url
#   pihole:
#     title: Pi Hole
#     icon: mdi:spider-web
#     url: !secret pihole_url

media_player:
#   - platform: mpd                # I don't use this as a media player anymore, just cleaning things up.
#     host: !secret mpd_host_lunzpi
#     port: !secret mpd_port_lunzpi
#     name: LunzPi
### Spotify was moved to it's own platform
#   - platform: spotify
#     client_id: !secret spotify_client_id
#     client_secret: !secret spotify_client_secret
# Pioneer Amplifier
  - platform: pioneer      # try this later: onkyo
    host: 192.168.1.20
    name: Receiver
  - platform: androidtv
    name: "Fire TV"
    host: 192.168.1.77
    adb_server_ip: 127.0.0.1
    adb_server_port: 5037
    # apps:
    #   "org.xbmc.kodi": "Kodi"
    #   "com.netflix.ninja": "Netflix"
    #   "com.spotify.tv.android": "Spotify"
    #   "com.google.android.tvlauncher": "Homescreen"
    #   "com.google.android.youtube.tv": "Youtube"
  # - platform: itunes
  #   host: !secret itunes_host
  #



############################################
###### Shell Command #######################
############################################


# shell_command:
# ### unifi LED controller
#   living_room_unifi_led_blue: >-
#     ssh lunz@192.168.1.14 "echo '1' >/proc/gpio/led_pattern
#     && sed -i '/mgmt.led_pattern_override/d' /var/etc/persistent/cfg/mgmt 
#     && echo 'mgmt.led_pattern_override=0' >> /var/etc/persistent/cfg/mgmt"
  
  
  
############################################
###### Spotify Integration #################
############################################
# Moved from Media Player in 0.105
# removed yaml config in 2022.8.0
  
# spotify:
#   client_id: !secret spotify_client_id
#   client_secret: !secret spotify_client_secret
  
############################################
###### WebOStv LG TV Living Room ###########
############################################
#   #setup with GUI in 2022.4.5
# webostv:
#     name: Living Room TV
#     host: 192.168.1.112
#     #other settings
#     turn_on_action:
#         service: wake_on_lan.send_magic_packet
#         data:
#           mac: "60:AB:14:62:F1:EE"
#     # standby_connection: true #### not needed after 0.105.x
  
    
# remote:
#   - platform: webostv
#     host: 192.168.1.112
#     name: lgr
    
# # LG TV WebOS
#   - platform: webostv
#     host: 192.168.1.112
#     name: Living Room TV
#     filename: webostv.conf
#     timeout: 5
#     # turn_on_action:
#     #   service: persistent_notification.create
#     #   data:
#     #     message: "Turn on action"
#     turn_on_action:
#       service: wake_on_lan.send_magic_packet
#       data:
#         mac: "60:AB:14:62:F1:EE"
#     customize:
#       sources:
#         - livetv
#         - youtube
#         # - makotv
#         - netflix

####################################
###### Plex Media Player ###########
####################################

### now configured via Integrations Page and depreciated in 0.111

# plex:
#   host: 192.168.1.144
#   port: 32400
#   token: !secret plex_secret_token
#   ssl: false
#   verify_ssl: false
#   media_player:
#     use_episode_art: true
#     show_all_controls: false

####################################
###### Alexa Media Player ##########
####################################

### migrated to integrations GUI page

# alexa_media:
#   accounts:
#     - email: !secret amazon_email
#       password: !secret amazon_password
#       url: amazon.com
  
##########################################
### Custom Component: Breaking Changes ###
##########################################

breaking_changes:

  
####################################
############ Coinbase ##############
####################################

## not working!

# coinbase:
#   api_key: !secret coinbase_api_key
#   api_secret: !secret coinbase_api_secret
#   account_balance_currencies:
#     - USD
#     - BTC
#   exchange_rate_currencies:
#     - BTC
#     - ETH
#     - LTC
  
  
####################################
########## Google Home #############
####################################

# googlehome:
#   devices:
#     - host: 192.168.1.237
#     # - rssi_threshold: -70
#     # - device_types: 3          ### https://www.home-assistant.io/components/googlehome/#device_types
#       track_alarms: true
#     - host: 192.167.1.228
#     # # - rssi_threshold: -70
#     # # - device_types: 3          ### https://www.home-assistant.io/components/googlehome/#device_types
#       track_alarms: true


####################################
########## Asuswrt  ################
####################################


# enable in v0.83 or greater
# replaced with Unifi Router in v2021.1.3
# asuswrt:
#     host: 192.168.1.1
#     username: !secret asus_username
#     password: !secret asus_password
#     # ssh_key: /config/ssh/ssh_asus_private_key
#     protocol: ssh ### or telnet
#     mode: router
#     sensors:
#       - upload
#       - download
#       - upload_speed
#       - download_speed
#or
    # ssh_key: '/config/ssh/asuswrt'  #The path to your SSH private key file associated with your given admin account


####################################
########## Device Tracker ##########
####################################

device_tracker:
# configured using Integrations page in 0.112
#   - platform: tile
#     username: !secret tile_username
#     password: !secret tile_password
## moved away from asus router in v2021.1.3
#   - platform: asuswrt
#      # host: 192.168.1.1
#      # username: !secret asus_username
#      # password: !secret asus_password
#      # protocol: telnet #ssh or telnet
#     interval_seconds: 15
#     consider_home: 180
#     new_device_defaults:
#       track_new_devices: True
    #### Google Home moved to it's own Platform in 0.88 -- delete this after update.
#   - platform: googlehome
#     host: 192.168.1.237
#     new_device_defaults:
#       track_new_devices: false
#       hide_if_away: true
#   - platform: googlehome
#     host: 192.167.1.228
#   - platform: nmap_tracker
#     hosts: 192.168.0.0/24
#     scan_options: "--host-timeout 5s --privileged -sP "
#     home_interval: 10
#     # exclude:
    #  - 192.168.1.12
    #  - 192.168.1.13
#   - platform: icloud
#     username: !secret icloud_username
#     password: !secret icloud_password
#  - platform: bluetooth_tracker                       # Disabled bluetooth tracker on VM
  - platform: ping
    hosts:
      lunziphone_ping: 192.168.1.8
      lunziphone11_ping: 192.168.1.9
      lunziphone13_ping: 192.168.1.13
      lunzipad_ping: 192.168.1.239
      10lunz_ping: 192.168.1.144
    #   MadisongsiPhone_ping: 192.168.1.120
    #   ahmads_iphone_ping: 192.168.1.46
  - platform: iphonedetect
    consider_home: 60
    new_device_defaults:
      track_new_devices: true
    #   hide_if_away: false
    hosts:
      lunziphone_iphonedetect: 192.168.1.8
      lunziphone11_iphonedetect: 192.168.1.9
      lunziphone13_iphonedetect: 192.168.1.13
        # icon:
        # mac:
        # name: hostname1
        # picture:
        # track: true
        # icon: cellphone-arrow-down
# hostname1:
#   icon:
#   mac:
#   name: hostname1
#   picture:
#   track: true
      lunzipad_iphonedetect: 192.168.1.239
    #   ahmads_iphone_iphonedetect: 192.168.1.46
    #   MadisongsiPhone_iphonedetect: 192.168.1.120
    #   KatieFodsiPhone: 192.168.1.91
      LaurenBdsiPhone_iphonedetect: 192.168.1.125
    #   AD-iPhone-6_iphonedetect: 192.168.1.162
      laura_iphonedetect: 192.168.1.118
  ### traccar
  - platform: traccar
    host: 192.168.1.2
    port: 18782
    username: admin
    password: admin


# duckDNS
# If you are running the Hass.io DuckDNS add-on this component is not required. The add-on will keep your IP updated with DuckDNS.
# duckdns:
#   domain: !secret duckdns_domain
#   access_token: !secret duckdns_access_token

####################################
###### Image Processing ############
####################################


image_processing:
  - platform: doods
    url: "http://192.168.1.2:8080"
    detector: default
    file_out:
      - "/tmp/{{ camera_entity.split('.')[1] }}_latest.jpg"
    source:
    #   - entity_id: camera.laundry_camera
    #   - entity_id: camera.wyzecam_front_door_camera
      - entity_id: camera.wyzecam_office_cam
      - entity_id: camera.wyzecam_living_room_cam
      - entity_id: camera.wyzecam_hallway_cam
    confidence: 50
    # area:
      # All detections must be inside this area to trigger
    #   top: 0.1
      # If true the entire detection must be inside the box
      # If false if any part of the detection is in the box it will trigger
      # defaults to true for legacy compatibility
    #   contains: true
    labels:
    #   - name: person
    #     confidence: 40
        # area:
        #   # Exclude top 10% of image
        #   top: 0.1
        #   # Exclude right 15% of image
        #   right: 0.85
          # If true the entire detection must be inside the area
          # If false, if any part of the detection is in the box it will trigger
          # defaults to true for legacy compatibility
        #   contains: false
      - car
      - truck
      - person


####################################
############### LIGHTS #############
####################################



light:
  - platform: flux_led
    devices:
      192.168.1.121:
        name: flux_bedroom_light
        # protocol: 'ledenet'
# not needed anymore. delete in 0.93
#   - platform: mqtt
#     schema: json
#     name: "SN1 LED"
#     state_topic: "bruh/sensornode1"
#     command_topic: "bruh/sensornode1/set"
#     brightness: true
#     effect: true
#     effect_list: [flash]
#     rgb: true
#     optimistic: false
#     qos: 0
#   - platform: group
#     name: "Michael's Bedroom Lights"
#     entities:
#       - light.mclighting01
#       - light.flux_bedroom_light


####################################
############# SWITCHES #############
####################################

# not needed anymore. delete in 0.93
# this is for the "new/official" Tuya component -- however it relies on 3rd party external servers.
### moved config to GUI 
# tuya:
#   username: !secret tuya_username
#   password: !secret tuya_password
#   country_code: 1
#   platform: tuya #jinvoo_smart

sonoff:
  username: !secret tuya_username
  password: !secret tuya_password
  reload: always


switch:
  - platform: wake_on_lan
    mac: "D8-CB-8A-70-E9-CB"  #change it to this after 0.103+ --> mac: "D8-CB-8A-70-E9-CB"
    name: "10-LUNZ PC"
    host: 192.168.1.144
    turn_off:
        service: hassio.addon_stdin
        data:
            addon: core_rpc_shutdown
            input: 10-LUNZ
## Tuya Local Platform -- Broken in version 0.88
# not needed anymore. delete in 0.93
#   - platform: tuya
#     host: 192.168.1.211
#     local_key: !secret tuya_local_key
#     device_id: !secret tuya_device_id
#     switches:
#       switch1:
#         friendly_name: Stereo Amp
#         id: 1
#       switch2:
#         friendly_name: Fireplace
#         id: 2
#       switch3:
#         friendly_name: Monitor
#         id: 3
#       switch4:
#         friendly_name: Lamp
#         id: 4
#       switch5:
#         friendly_name: USB Switch
#         id: 5
  - platform: flux
    lights:
      - light.bedroom
    #   - light.cabinet_light
      - light.ring_light
    #   - light.flux_bedroom_light
    name: Fluxer
    start_time: '7:00'
    stop_time: '23:00'
    start_colortemp: 4000
    sunset_colortemp: 3000
    stop_colortemp: 1900
    brightness: 255
    disable_brightness_adjust: false
    mode: rgb
    transition: 10
    interval: 60
    #################################################### commented out for testing 2021.7.2
# ### Circadian Lighting
  - platform: circadian_lighting
    lights_ct:
      - light.bedroom
      - light.bedroom_accent_lights
    #   - light.ring_light
      - light.headboard_light
    #   - light.hallway
    lights_brightness:
      - light.ble01_lcd_display_backlight
    min_brightness: 20
### qBittorrent alternative speed custom compoent
  - platform: qbittorrent_alternative_speed
    host: 192.168.1.144
    username: !secret qbt_username
    password: !secret qbt_password
    port: 8080
    protocol: http
    name: qbittorrent_alternative_speed
### template switch to reverse the oled_display01 switch
  - platform: template
    switches:
      oled_display01_inverted:
        friendly_name: "OLED Display"
        value_template: "{{ is_state('switch.oled_display01_screen', 'off') }}"
        turn_on:
          service: switch.turn_off
          data:
            entity_id: switch.oled_display01_screen
        turn_off:
          service: switch.turn_on
          data:
            entity_id: switch.oled_display01_screen
        icon_template: "{% if is_state('switch.oled_display01_screen', 'on') %}mdi:flash-outline{% else %}mdi:flash{% endif %}"

####################################
############# INPUT BOOLEAN ########
####################################

input_boolean:
  medicine_reminder:
    name: "Medicine Reminder"
  michael_home:
    name: michael_home
  michael_morning_alarm:
    name: "Michael Morning Alarm"



####################################
############# INPUT Select ########
####################################


input_select:
  dishwasher_status:
    name: Dishwasher Status
    options:
      - Dirty
      - Running
      - Drying
      - Clean
    initial: Dirty



####################################
####### EARTHQUAKES & FIRES ########
####################################
    
geo_location:
  - platform: usgs_earthquakes_feed
    feed_type: 'past_day_all_earthquakes'
  - platform: nsw_rural_fire_service_feed
    categories:
      - 'Emergency Warning'
      - 'Watch and Act'
      - 'Advice'
 
 
####################################
######### Darksky Weather ##########
####################################   
    
weather:
  - platform: darksky
    api_key: !secret darksky_api_key
  - platform: openweathermap
    api_key: !secret openweathermap_api_key
    
####################################
##### IQVIA // Replaced Pollen #####
####################################   

iqvia:
  zip_code: !secret pollen_zip_code
## ALL Monitored Conditions are displayed by default now
#   monitored_conditions:
#     - allergy_average_forecasted
#     - allergy_index_today
#     - allergy_index_tomorrow
#     # - allergy_index_yesterday
#     - asthma_average_forecasted
#     - asthma_index_today
#     - asthma_index_tomorrow
#     # - asthma_index_yesterday
#     - disease_average_forecasted
#     - disease_index_today
#     # - disease_index_yesterday

# "yesterday" doesn't work anymore!
    
    
    
####################################
####### AirVisual ##################
####################################
### setup in GUI 

# airvisual:
#     api_key: !secret airvisual_api_key
#     # monitored_conditions:      ## This is depreciated 
#     #   - us
#     geographies:
#         latitude: !secret homeassistant_latitude
#         longitude: !secret homeassistant_longitude
#     # show_on_map: false.        ## This is depreciated


####################################################
############# Custom Lovelace Card #################
####################################################
# This goes in the lovelace.yaml file

# resources:
#   - url: /local/custom-weather-card-chart.js
#     type: module
#   - url: /local/tracker-card.js?v=0
#     type: js
#   - url: /local/mini-media-player-bundle.js?v=1.0.2
#     type: module
#   - url: /customcards/github/custom-cards/tracker-card.js?track=true
#     type: module
    # - url: /local/aftership-card.js
    #   type: module


# /customcards/

# resources:
#   - url: /customcards/custom-weather-card-chart.js
#     type: module
#   - url: /customcards/tracker-card.js
#     type: js
#   - url: /customcards/mini-media-player-bundle.js
#     type: module
#   - url: /customcards/github/custom-cards/tracker-card.js?track=true
#     type: module
#   - url: /customcards/github/mishaaq/sun-card.js?track=true
#     type: module


####################################
############# Custom Updater #######
####################################

# migrated to HACS (see below)

# custom_updater:
# #   mode: storage
#   track:
#     - components
#     - cards
#     - python_scripts
#   card_urls:
#     - https://raw.githubusercontent.com/sgttrs/lovelace-weather-card-chart/master/custom-updater.json
#     - https://raw.githubusercontent.com/kalkih/mini-media-player/master/tracker.json
#     - https://raw.githubusercontent.com/thomasloven/lovelace-slider-entity-row/master/slider-entity-row.js
#     - https://raw.githubusercontent.com/ciotlosm/custom-lovelace/master/monster-card/monster-card.js
#     - https://raw.githubusercontent.com/custom-cards/button-card/0.0.6/button-card.js
#     - https://raw.githubusercontent.com/custom-cards/aftership-card/master/dist/aftership-card.js
#     - https://raw.githubusercontent.com/mishaaq/sun-card/master/tracker.json
#     - https://raw.githubusercontent.com/nervetattoo/simple-thermostat/master/tracker.json
#     - https://raw.githubusercontent.com/kalkih/mini-graph-card/master/tracker.json
#   component_urls:
#     - https://raw.githubusercontent.com/keatontaylor/alexa_media_player/master/custom_components.json
#     - https://raw.githubusercontent.com/pnbruckner/homeassistant-config/master/custom_components.json
#   python_script_urls:
#     - https://raw.githubusercontent.com/pnbruckner/homeassistant-config/master/python_scripts.json



####################################
###### HACS | Custom Updater #######
####################################
## migrated to configuration via the UI

# hacs:
#   token: !secret my_github_access_token
#   appdaemon: true
#   python_script: true ### depreciated
#   theme: true ### depreciated




####################################
####### Google Cloud Pub/Sub #######
####################################

# google_pubsub:
#   project_id: admin-project-234000
#   topic_name: hassio
#   credentials_json: Admin Project-5cb97eb3dde0.json
#   filter:
#     include_entities: 
#       - light.flux_bedroom_light
#       - person.michael_lunzer
      # - light.michael_hue


####################################
##### apcupsd UPS Power Backup #####
####################################
# This is not being used currently

# apcupsd:
#   host: a722577e-apcupsd


####################################
############ WeMo ##################
####################################


# wemo:
#   discovery: true


####################################
############ Haaksa ################
####################################

api:

alexa:
  smart_home:


####################################
############ Emulated Hue ##########
####################################

### replaced by Haaksa

# emulated_hue:
#   host_ip: 192.168.1.2
# #   listen_port: 8300 #8300
# #   advertise_ip: 10.0.0.10
# #   advertise_port: 8080
# #   off_maps_to_on_domains:
# #     - script
# #     - scene
# #   upnp_bind_multicast: true
# #   expose_by_default: true
# #   exposed_domains:
# #     - light
# #     - switch
# #     - input_boolean
#   entities:
#     # light.michael_hue:
#     #   name: "Ceiling Lights"
#     light.cabinet_light:
#       name: "Cabinet Lights"
#     light.flux_bedroom_light:
#       name: "Room Lights"
#     switch.sonoff_powerstrip_relay_lamp:
#       name: "Lamp"
#     switch.sonoff_powerstrip_relay_monitor:
#       name: "Monitor"
#     switch.sonoff_powerstrip_relay_fireplace:
#       name: "Fireplace"
#     switch.sonoff_powerstrip_relay_stereo:
#       name: "Stereo Switch"
#     switch.stereo_relay:
#       name: "Stereo"
#     switch.sonoff_fan:
#       name: "Fan"
      
      
      
####################################
######## Spotcast ##################
####################################
      
spotcast:
  sp_dc: !secret spotcast_sp_dc
  sp_key: !secret spotcast_sp_key

### old
#   username: !secret spotify_username
#   password: !secret spotify_password
  
####################################
######## Google Calendar ###########
####################################
  # removed yaml config in 2022.8.0

# google:
#   client_id: !secret gcal_client_id
#   client_secret: !secret gcal_client_secret
  
  
####################################
######## Anniversary ###############
####################################
### add these in the GUI now!!

anniversaries:
  sensors:
  - name: Christmas
    date: '2021-12-25'
  - name: "ski_season_starts_anniversary"
    date: '2020-12-1'
  - name: "ski_season_ends_anniversary"
    date: '2021-5-1'
  - name: "Laura_birthday_anniversary"
    date: '1992-3-5'
    count_up: false
  - name: "Michael_birthday_anniversary"
    date: '1991-4-2'
    count_up: false
  - name: "laura_michael_anniversary"
    date: '2018-7-7'
    count_up: false
  - name: "twilio_work_anniversary"
    date: '2020-9-20'
    count_up: false
  - name: "postman_work_anniversary"
    date: '2022-7-5'
    count_up: false
  - name: "Pandemic Started"
    date: '2020-3-9'
    count_up: true
  - name: "Gravy_birthday_anniversary"
    date: '2020-8-20'
    count_up: false
    
############################################################
######## Circadian Lighting Custom Component ###############
############################################################

circadian_lighting:


############################################################
######## Withings Health - Scale ###########################
############################################################
## configured via UI in 0.112

# withings:
#   client_id: !secret withings_client_id
#   client_secret: !secret withings_consumer_secret
#   profiles:
#     - Michael Lunzer

############################################################
######## Vaccuum ###########################################
############################################################

### I don't have this vacuum anymore


# vacuum:
#   - platform: roomba
#     host: 192.168.1.232
#     username: 34DA3DE30DFD4AA59A4084A400044EE2
#     password: :1:1579484417:CfaWlcuNEwdc5FGY



############################################################
######## Utility Meter #####################################
############################################################

# utility_meter:
#   energy:
#     source: sensor.kmc01_total_daily_energy
#     cycle: daily


#   - entity: sensor.kmc01_current
#   - entity: 
#   - entity: sensor.kmc01_voltage

############################################################
######## Generate GitHub Readme Custom Component ###########
############################################################

readme:


############################################################
######## NextCloud  ########################################
############################################################
### nextcloud is broken so I'm removing it for now

# nextcloud:
#   url: http://omv5.local:8080/
#   username: !secret nextcloud_username
#   password: !secret nextcloud_password
  
  
 
 
############################################################
### Zodiac Sign ############################################
############################################################
zodiac:
  
  
############################################################
######## Zoom - Custom Component ###########################
############################################################


zoom:
  - client_id: !secret zoom_client_id_twilio
    client_secret: !secret zoom_client_secret_twilio
    verification_token: !secret zoom_verification_token_twilio
    name: mlunzer@twilio.com
  - client_id: !secret zoom_client_id
    client_secret: !secret zoom_client_secret
    verification_token: !secret zoom_verification_token
    name: michaellunzer@gmail.com





####################################################################################################################
######## Helium - Custom Component - Utility Meter to show HNT added to wallet over time ###########################
####################################################################################################################

utility_meter:
  helium_wallet_today:
    source: sensor.helium_wallet_131DzR51J16QetvhKpp55xgoZskFaZRpmPa45eUQPvAXTbSumCo
    cycle: daily

  helium_wallet_weekly:
    source: sensor.helium_wallet_131DzR51J16QetvhKpp55xgoZskFaZRpmPa45eUQPvAXTbSumCo
    cycle: weekly

  helium_wallet_monthly:
    source: sensor.helium_wallet_131DzR51J16QetvhKpp55xgoZskFaZRpmPa45eUQPvAXTbSumCo
    cycle: monthly


############################################################################
######## Folding@Home Control - Custom Component ###########################
############################################################################

foldingathomecontrol:
  - address: "192.168.1.2"
    port: 36330
    # password: "password"
  - address: "192.168.1.209"
    port: 36330
    # password: "password"
  - address: "192.168.1.144"
    port: 36330
    # password: "password"
    
    
    
    
    
    
    
# ############################################################################
# ######## BART API REST PLATFORM ############################################
# ############################################################################
    
# rest:
#   - authentication: basic
#     # username: "admin"
#     # password: "password"
#     scan_interval: 30
#     resource: https://api.bart.gov/api/etd.aspx?orig=24TH&cmd=etd&key=MW9S-E7SL-26DU-VV8V&dir=s&json=y
#     sensor:
#       - name: "BART 24TH Street Station"
#       # $.store.book[*].author          ..*         .estimate[0].minutes[0]
#         json_attributes_path: "$.root.station.etd[*]"
#         value_template: "{{ value_json['destination']['estimate']['minutes'] }}"
#         json_attributes:
#           - "destination"
#           - "estimate[*].minutes"
#           - "estimate[*].platform"
#           - "estimate[*].direction"
#           - "estimate[*].color"
          
          
          
          
            

